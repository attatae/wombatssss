<%= form_for @event do |f| %>
  <% if @event.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(@event.errors.count, "error") %> prohibited
      this post from being saved:</h2>
    <ul>
    <% @event.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
  <% end %>

  <p>
    <%= f.label :event_title %><br/>
    <%= f.text_field :title %>
  </p>

  <p>
    <%= f.label :event_start %><br/>
    <%= f.text_field :event_start %> <span class="gray-text"><em>yyyy-mm-dd</em></span> <!--wasn't working once, although rarer than before.)-->
  </p>

  <p>
    <%= f.label :text %><br/>
    <%= f.text_area :text %>
  </p>

  <p>
    <%= check_box_tag(:time_begin) %> 
   <%= f.label :time, :class => 'grey' %><br/>
    <%= f.time_select :time_begin, :ampm => true, include_blank: true, :disabled => true, :default => {:hour => '19', :minute => '00'} %>
  </p>

  <p>
    <%= check_box_tag(:location) %>
    <%= f.label :location , :class => 'grey'  %><br/></span>
  <div id="div_location" style="display:inline-block; position:relative;">
      <%= f.text_field :location, :disabled => true %>
    <div style="position:absolute; left:0; right:0; top:0; bottom:0;"></div>
    </div>
 </br>
     </p>
     </p>
    <%= check_box_tag(:address) %>
    <%= f.label :address, :class => 'grey' %></br>
    <div id="div_address" style="display:inline-block; position:relative;">
      <%= f.text_field :address, :disabled => true%>  <!--later can make these placeholders and jscript. Once scoped to IE versions.-->
      <div style="position:absolute; left:0; right:0; top:0; bottom:0;"></div>
    </div>
    </p>
  
  
 <div class="form-actions">
  <p>
    <%= f.button :Submit, :class => 'btn btn-large btn-primary' %>
  </p>
  </div>
<% end %>
<script>
   $(document).ready(function(){


//       $("#div_location  div").on("click", function (evt) {
//           alert("asdf");
//           $(this).hide().prev("input[disabled]").prop("disabled", false).focus();
//       });

       $("#div_location  div").on("click",function(){
//           alert("hello");
           if  ( ! $('#location').is(":checked")) {
               $('#location').next().toggleClass('grey')
//               $(this).find('input').prop('disabled',false);
//               $(this).closest('input').attr('disabled', 'disabled');
//               $(this).closest('input').removeAttr('disabled');
               $(this).hide().prev("input[disabled]").prop("disabled", false).focus();
               $('#location').prop('checked', true)
           }
       });
       $("#div_address  div").on("click",function(){
//           alert("hello");
           if( ! $('#address').is(":checked")){
               $('#address').next().toggleClass('grey')
//               $(this).find('input').prop('disabled',false);
//               $(this).find('input').attr('disabled', 'disabled');
//               $(this).find('input').removeAttr('disabled');
               $(this).hide().prev("input[disabled]").prop("disabled", false).focus();
               $('#address').prop('checked', true)
           }
       });
   });
</script>